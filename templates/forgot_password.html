{% extends 'base.html' %}
{% block title %}Forgot Password - UFW Web Manager{% endblock %}
{% block content %}
<div class="center-screen">
  <div class="card auth-card" style="max-width:470px; width:100%;">
    <h2 style="margin:0 0 14px; display:flex; gap:8px; align-items:center;">🛠️ Reset Admin Password</h2>
    <form method="POST">
        <div class="form-row">
            <label>Reset Token</label>
            <div class="pw-wrapper">
                <input type="text" name="token" class="pw-input" required />
                <button type="button" class="pw-toggle" data-mode="text" aria-label="Hide token">👁</button>
            </div>
        </div>
        <div class="form-row">
            <label>New Password</label>
            <div class="pw-wrapper">
                <input type="password" name="new_password" class="pw-input" minlength="8" required />
                <button type="button" class="pw-toggle" aria-label="Show password">👁</button>
            </div>
        </div>
        <div class="form-row">
            <label>Confirm Password</label>
            <div class="pw-wrapper">
                <input type="password" name="confirm_password" class="pw-input" minlength="8" required />
                <button type="button" class="pw-toggle" aria-label="Show password">👁</button>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" style="width:100%; margin-top:4px;">Update Password</button>
    </form>
    <p class="muted" style="margin-top:14px; line-height:1.5; font-size:12px;">
        This flow requires <code style="font-size:11px; background:rgba(255,255,255,0.06); padding:2px 4px; border-radius:4px;">ADMIN_RESET_TOKEN</code> to be set on the server at startup.<br>
        Example:<br>
        <code style="font-size:11px; background:rgba(255,255,255,0.08); padding:4px 6px; border-radius:6px; display:inline-block; margin-top:4px;">export ADMIN_RESET_TOKEN=$(openssl rand -hex 16)</code>
    </p>
    <div style="text-align:center; margin-top:16px;">
        <a href="{{ url_for('login') }}" class="btn btn-outline" style="display:inline-flex;">Back to Login</a>
    </div>
  </div>
</div>
{% endblock %}
